# üîç –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

## –ü—Ä–æ–±–ª–µ–º–∞
–ë–æ—Ç –Ω–µ –≤–∏–¥–∏—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Telegram Login Widget.

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1. SQLite –Ω–∞ Render –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
SQLite —Ç—Ä–µ–±—É–µ—Ç —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É —Å –∑–∞–ø–∏—Å—å—é, –∞ –Ω–∞ Render —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ read-only.

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PostgreSQL –Ω–∞ Render.

### 2. API —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
–ë–æ—Ç –¥–æ–ª–∂–µ–Ω —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ API, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º.

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
```bash
curl https://telegram-summary-bot-auth.onrender.com/check-auth/–í–ê–®_USER_ID
```

### 3. –†–∞–∑–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î, –∞ auth server –Ω–∞ Render –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥—Ä—É–≥—É—é –ë–î.

## –†–µ—à–µ–Ω–∏–µ: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL –Ω–∞ Render

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ PostgreSQL –Ω–∞ Render

1. –í Render Dashboard ‚Üí **New +** ‚Üí **PostgreSQL**
2. –ù–∞–∑–≤–∞–Ω–∏–µ: `telegram-summary-bot-db`
3. –ü–ª–∞–Ω: **Free** (–¥–ª—è –Ω–∞—á–∞–ª–∞)
4. –ù–∞–∂–º–∏—Ç–µ **Create Database**

### –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç–µ Database URL

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è:
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
2. –í —Ä–∞–∑–¥–µ–ª–µ **Connections** –Ω–∞–π–¥–∏—Ç–µ **Internal Database URL**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `postgresql://user:pass@host:5432/dbname`)

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Render

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Web Service (`telegram-summary-bot-auth`)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Environment**
3. –ù–∞–π–¥–∏—Ç–µ `DATABASE_URL`
4. –ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ PostgreSQL URL –∏–∑ —à–∞–≥–∞ 2
5. –ù–∞–∂–º–∏—Ç–µ **Save Changes**
6. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π .env

–í —Ñ–∞–π–ª–µ `.env` –¥–æ–±–∞–≤—å—Ç–µ/–æ–±–Ω–æ–≤–∏—Ç–µ:
```bash
DATABASE_URL=postgresql://user:pass@host:5432/dbname
```

**–í–∞–∂–Ω–æ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ—Ç –∂–µ URL, —á—Ç–æ –∏ –Ω–∞ Render!

### –®–∞–≥ 5: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
pkill -f "python3 main.py"
python3 main.py
```

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/auth` –±–æ—Ç—É
2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ GitHub Pages
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/status` - –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å "‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω"

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL, –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å auth_server –ª–æ–∫–∞–ª—å–Ω–æ:

1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ auth_server –Ω–∞ Render
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ: `python3 auth_server.py`
3. –û–±–Ω–æ–≤–∏—Ç–µ `index.html` - –∏–∑–º–µ–Ω–∏—Ç–µ `BACKEND_URL` –Ω–∞ `http://localhost:5000/auth/callback`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ localhost

–ù–æ —ç—Ç–æ –º–µ–Ω–µ–µ –Ω–∞–¥–µ–∂–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

### –õ–æ–≥–∏ –±–æ—Ç–∞:
```bash
tail -f logs/bot.log | grep -i "auth\|sync\|check"
```

### –õ–æ–≥–∏ Render:
1. –û—Ç–∫—Ä–æ–π—Ç–µ Render Dashboard
2. –í–∞—à Web Service ‚Üí **Logs**
3. –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ë–î

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
# Health check
curl https://telegram-summary-bot-auth.onrender.com/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–∑–∞–º–µ–Ω–∏—Ç–µ USER_ID –Ω–∞ –≤–∞—à)
curl https://telegram-summary-bot-auth.onrender.com/check-auth/–í–ê–®_USER_ID
```

–í–∞—à Telegram ID –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —É @userinfobot –≤ Telegram.
